Title: DebianでLuaJITTeXを使いたい
Date: 2018-10-31 19:01
Category: blog
Tags: tex,debian
Status: draft

[TOC]


そろそろLuaTex使ってみたいなと思ったところ、LuaJITTeXの方が早い場合があるということで、試してみようと思った。

## 参考

* [luajittex のセットアップ](http://www.fugenji.org/~thomas/texlive-guide/luajitlatex.html)
    * そもそもこのサイトの情報が有用 [TeX Live を使おう──主に Linux ユーザのために──](http://www.fugenji.org/~thomas/texlive-guide/index.html)


## 未解決の問題

* `/var/lib/texmf/fmtutil.cnf-TEXLIVEDIST` が自動生成されている、とコメントされているが、元ファイルがわからない
```
### This file was automatically generated by update-fmtutil.
#
# Any local change will be overwritten. Please see the documentation
# of updmap on how to override things from here.
#
###
```

## 準備

パッケージインストール

```sh
sudo apt install texlive-lang-japanese texlive-latex-extra texlive-luatex
```

`/var/lib/texmf/fmtutil.cnf-TEXLIVEDIST` を編集したい。(未解決の項目に書いた通り、元ファイルがわからないので直接編集している)

```diff
@@ -6,7 +6,7 @@
 ###
 dviluatex luatex language.def,language.dat.lua dviluatex.ini
 etex pdftex language.def -translate-file=cp227.tcx *etex.ini
-#! luajittex luajittex language.def,language.dat.lua luatex.ini
+luajittex luajittex language.def,language.dat.lua luatex.ini
 luatex luatex language.def,language.dat.lua luatex.ini
 mf mf-nowin - -translate-file=cp227.tcx mf.ini
 pdfetex pdftex language.def -translate-file=cp227.tcx *pdfetex.ini
@@ -14,7 +14,7 @@
 tex tex - tex.ini
 dvilualatex luatex language.dat,language.dat.lua dvilualatex.ini
 latex pdftex language.dat -translate-file=cp227.tcx *latex.ini
-#! luajitlatex luajittex language.dat,language.dat.lua lualatex.ini
+luajitlatex luajittex language.dat,language.dat.lua lualatex.ini
 lualatex luatex language.dat,language.dat.lua lualatex.ini
 mptopdf pdftex - -translate-file=cp227.tcx mptopdf.tex
 pdflatex pdftex language.dat -translate-file=cp227.tcx *pdflatex.ini
```

## 使い方

```sh
luajittex --fmt=luajitlatex.fmt {tex file}
```

問題なくコンパイルできれば、pdfが生成されるはず。